{"version":3,"sources":["front.coffee","backend.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["angular.module('RQ', [ 'ngRoute' ]).controller 'frontCtrl', ($scope, $element, $http) ->\n  host_path = window.location.pathname.split( '/' );\n  $scope.url = if host_path[1] is 'richard-quiz' then window.location.protocol + '//' + window.location.host + '/richard-quiz/public/' else window.location.protocol + '//' + window.location.host + '/';\n  checkProgress = undefined\n  $scope.key = $element.find('#key').val()\n  $scope.count = 0\n  $scope.items = []\n  $scope.isLoading = true\n  $scope.doneLoading = false\n  $scope.checked = 0\n  $scope.showResult = false\n  $scope.mapObj =\n    'u2019': '\\''\n    '2019': '\\''\n    '.u00a0': ' '\n    'u201c': ' '\n    'u201': ''\n  $http(\n    method: 'GET'\n    url: $scope.url + 'quiz/get/' + $scope.key\n    headers: 'Content-type': 'application/json').then ((response) ->\n    shuffle = undefined\n    str = undefined\n    $scope.question = response.data.title\n    $scope.quiz_id = response.data.id\n    $scope.quiz = response.data\n    $scope.counterJSON = response.data.data_counter\n    if response.data.type == 'mc'\n      $scope.results = JSON.parse(response.data.results)\n\n    shuffle = (sourceArray) ->\n      i = undefined\n      j = undefined\n      temp = undefined\n      i = 0\n      while i < sourceArray.length - 1\n        j = i + Math.floor(Math.random() * (sourceArray.length - i))\n        temp = sourceArray[j]\n        sourceArray[j] = sourceArray[i]\n        sourceArray[i] = temp\n        i++\n      sourceArray\n\n    str = $scope.quiz.data\n    $scope.quizArr = $.map(JSON.parse($scope.replaceAll(str, $scope.mapObj)), (el, i) ->\n      el\n    )\n    $scope.items = shuffle($scope.quizArr)\n    $scope.size = $scope.quiz.data.size\n    $scope.isLoading = false\n    $scope.doneLoading = true\n    $element.find('#widget-container').show()\n  ), (response) ->\n    throw new Error(response.responseText)\n    return\n\n  $scope.replaceAll = (str, mapObj) ->\n    re = undefined\n    re = new RegExp(Object.keys(mapObj).join('|'), 'gi')\n    str.replace re, (matched) ->\n      mapObj[matched.toLowerCase()]\n\n  $scope.result = (data) ->\n    ad = undefined\n    ans = undefined\n    img = undefined\n    label = undefined\n    outcome = undefined\n    ans = $(data.target).attr('id')\n    label = $(data.target).data('label')\n    img = $(data.target).data('img')\n    ad = $(data.target).data('ad')\n    outcome = $(data.target).data('outcome')\n    # $scope.isLoading = true;\n    # $scope.doneLoading = false;\n    $http(\n      method: 'post'\n      url: $scope.url + 'quiz/result/' + $scope.key + '/' + ans\n      headers: 'Content-type': 'application/json').then ((response) ->\n      $(data.target).parent('a').addClass 'active'\n      $element.find('#quizzer-loader').hide()\n      $element.find('#widget-container').show()\n      $scope.result = response.data.result\n      $scope.img = img\n      $scope.outcome = $scope.replaceAll(outcome, $scope.mapObj)\n      $scope.ad = ad\n      $scope.insertResult = '<div style=\\'margin:15px; border:5px solid #000;\\'>' + response.data.result + '<img style=\\'display: block; margin-left: auto; margin-right: auto; margin-top:20px\\' src=' + img + ' class=\\'img-responsive img-thumbnail\\'> <h2 class=\\'quizzer-question text-center\\'>' + $scope.outcome + '</h2> <div class=\\'row\\' style=\\'margin-bottom: 20px\\'> <div class=\\'col-md-12 text-center\\'> <button type=\\'button\\' class=\\'btn btn-default btn-lg retake-btn\\' onClick=\\'location.reload()\\'>Retake</button> </div> </div> <br><p style=\\'text-align:center;\\'>' + ad + '</p></div>'\n      #$('.quizzer-container').empty();\n      $('#result-container').html $scope.insertResult\n      $('html, body').animate { scrollTop: $(document).height() }, 1000\n      #$scope.isLoading = false;\n      $scope.doneLoading = true\n    ), (response) ->\n      throw new Error(response.responseText)\n      return\n\n  checkProgress = (value) ->\n    if value < 25\n      return 'progress-bar-danger progress-bar'\n    if value >= 25 and value <= 50\n      return 'progress-bar-warning progress-bar'\n    if value >= 50 and value <= 75\n      return 'progress-bar-info progress-bar'\n    if value >= 75 and value <= 99\n      return 'progress-bar-success progress-bar'\n    if value == 100\n      return 'progress-bar-success'\n    return\n\n  $scope.resultPoll = (data, size) ->\n    ans = undefined\n    counterArr = undefined\n    counters = undefined\n    i = undefined\n    id = undefined\n    n = undefined\n    progress = undefined\n    r = undefined\n    total = undefined\n    x = undefined\n    z = undefined\n    ans = $(data.target).attr('id')\n    id = ans - 1\n    counterArr = JSON.parse($scope.counterJSON)\n    counters = new Array(size)\n    n = new Array(size)\n    r = new Array(size)\n    total = 0\n    i = 0\n    x = 0\n    z = 0\n    progress = ''\n    $scope.isLoading = true\n    $scope.doneLoading = false\n    while i < counters.length\n      if i == id\n        counters[i] = counterArr[i] + 1\n      else\n        counters[i] = counterArr[i]\n      total += counters[i]\n      i++\n    $http(\n      method: 'post'\n      url: $scope.url + 'quiz/update-counter'\n      data:\n        id: $scope.quiz_id\n        counters: counters\n      headers: 'Content-type': 'application/json').then ((response) ->\n      dataArr = undefined\n      results = undefined\n      y = undefined\n      dataArr = $.map(response.data, (value, index) ->\n        [ value ]\n      )\n      $element.find('#quizzer-loader').hide()\n      $element.find('#widget-container').show()\n      while x < n.length\n        n[x] = counters[x] / total\n        r[x] = Math.round(n[x] * 100)\n        x++\n        $element.find('#quizzer-loader').hide()\n        $element.find('#widget-container').show()\n      results = []\n      while z < r.length\n        progress += '<h4 style=\\'text-align:left;\\'>' + dataArr[z].label + '</h4><div class=\\'progress\\'><div id=\\'progress-' + z + '\\' class=\\'' + checkProgress(r[z]) + '\\' role=\\'progressbar\\' aria-valuenow=\\'40\\' aria-valuemin=\\'0\\' aria-valuemax=\\'100\\' ng-model=\\'per\\' style=\\'width:0%\\'>' + r[z] + '%</div></div>'\n        z++\n        $scope.progress = $scope.replaceAll(progress, $scope.mapObj)\n        $scope.insertResult = '<div class=\\'animated slideInDown\\' style=\\'margin:15px; border:5px solid #000;\\'> <section id=\\'intro\\' class=\\'intro-section\\' style=\\'padding-top:0px\\'> <div class=\\'container\\'> <div class=\\'row\\'> <div class=\\'col-lg-12\\'> <h1 style=\\'text-align:center;\\'>Poll Result</h1>' + $scope.progress + '</div> </div> <div class=\\'row\\' style=\\'margin-bottom: 20px\\'> <div class=\\'col-md-12 text-center\\'> <button type=\\'button\\' class=\\'btn btn-default btn-lg retake-btn\\' onClick=\\'location.reload()\\'>Retake</button> </div> </div> </div> </section> </div>'\n        $('.quizzer-container').empty()\n        $('.quizzer-container').html $scope.insertResult\n        $scope.isLoading = false\n        $scope.doneLoading = true\n        y = 0\n        results.push do ->\n          results1 = undefined\n          results1 = []\n          while y < r.length\n            $element.find('#progress-' + y).animate { width: r[y] + '%' }, 2500\n            results1.push y++\n          results1\n      results\n    ), (response) ->\n      throw new Error(response.responseText)\n      return\n\n  $scope.selectChoice = (event, aid) ->\n    id = undefined\n    len = undefined\n    value = undefined\n    $(event.target).addClass 'selected'\n    len = $element.find('.radio-choices.selected').length\n    console.log len\n    $scope.total = $scope.items.length\n    value = event.currentTarget.value\n    id = aid\n    $http(\n      method: 'post'\n      url: $scope.url + 'quiz/result/mc'\n      data:\n        key: $scope.key\n        value: value\n        id: id\n      headers: 'Content-type': 'application/json').then ((response) ->\n      $element.find('.radio-choices-' + id).attr 'disabled', 'disabled'\n      $element.find('#result-' + id).css 'display', 'block'\n      $element.find('#result-ad-' + id).html response.data.ad\n      $('body').animate { scrollTop: $element.find('#result-' + id).offset().top }, 'slow'\n      $scope.result = response.data\n      if $scope.result.response == 'true'\n        $scope.checked = $scope.checked + 1\n      if len == $scope.total\n        $scope.showResult = true\n        $scope.computeResult $scope.checked\n        return $('html, body').animate({ scrollTop: $(document).height() }, 1000)\n      return\n    ), (response) ->\n      throw new Error(response.responseText)\n      return\n\n  $scope.computeResult = (score) ->\n    percentage = undefined\n    percentage = score / $scope.total * 100\n    if percentage < 60\n      $scope.scoreresult = $scope.results[0]\n      $scope.alert = 'alert-danger'\n    if percentage >= 60 and percentage <= 69\n      $scope.scoreresult = $scope.results[1]\n      $scope.alert = 'alert-warning'\n    if percentage >= 70 and percentage <= 79\n      $scope.scoreresult = $scope.results[2]\n      $scope.alert = 'alert-info'\n    if percentage >= 80 and percentage <= 89\n      $scope.scoreresult = $scope.results[3]\n      $scope.alert = 'alert-primary'\n    if percentage >= 90 and percentage <= 100\n      $scope.scoreresult = $scope.results[4]\n      return $scope.alert = 'alert-success'\n    return\n","app = angular.module('backendApp', [ 'ngRoute' ])\napp.controller 'backendCtrl', ($scope, $element, $http) ->\n  host_path = window.location.pathname.split( '/' );\n  $scope.url = if host_path[1] is 'richard-quiz' then window.location.protocol + '//' + window.location.host + '/richard-quiz/public/' else window.location.protocol + '//' + window.location.host + '/';\n  question_id = undefined\n  $scope.count = 1\n  question_id = $element.find('#question_id').val()\n  $http(\n    method: 'GET'\n    url: $scope.url+'quiz/api/' + question_id\n    headers: 'Content-type': 'application/json').then ((response) ->\n    jsonData = undefined\n    $scope.quiz = response.data\n    if $scope.quiz.data != ''\n      jsonData = JSON.parse($scope.quiz.data)\n      if $scope.quiz.data_img != ''\n        $scope.imgs = JSON.parse($scope.quiz.data_img)\n      else\n        $scope.imgs = ''\n      if $scope.quiz.results != ''\n        $scope.results = JSON.parse($scope.quiz.results)\n      else\n        $scope.results = ''\n      if Object::toString.call(jsonData) == '[object Array]'\n        $scope.items = jsonData\n      else\n        $scope.items = $.map(jsonData, (el) ->\n          el\n        )\n    else\n      $scope.items = []\n  ), (response) ->\n    throw new Error(response.responseText)\n    return\n\n  $scope.removeAnswer = (array, index) ->\n    array.splice index, 1\n\n  $scope.addAnswer = (data) ->\n    $scope.count++\n    $scope.items.push id: $scope.count\n\napp.controller 'backendHomeCtrl', ($scope, $element, $http) ->\n\n  $scope.removeQuiz = (event) ->\n    id = undefined\n    link = undefined\n    id = $(event.target).attr('id')\n    link = $(event.target).attr('href')\n    if confirm('Delete quiz?') == true\n      true\n    else\n      false\n"]}